{"ast":null,"code":"var _jsxFileName = \"/Users/vitalijbovkun/Desktop/ReactProjects/react-convertor/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Header } from './components/Header';\nimport { Blocks } from './components/Blocks';\nimport './index.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [fromCurrency, setFromCurrency] = React.useState('UAH');\n  const [toCurrency, setToCurrency] = React.useState('USD');\n  const [fromPrice, setFromPrice] = React.useState(0);\n  const [toPrice, setToPrice] = React.useState(0);\n  React.useEffect(() => {\n    fetch('https://cdn.cur.su/api/latest.json').then(res => res.json()).then(json => {\n      ratesRef.current = json.rates;\n      onChangeToPrice(0);\n    }).catch(err => {\n      console.warn(err);\n      alert('Не удалось получить информацию');\n    });\n  }, []);\n  const ratesRef = React.useRef({});\n\n  const onChangeFromPrice = value => {\n    const price = value / ratesRef.current[fromCurrency];\n    const result = price * ratesRef.current[toCurrency];\n    setToPrice(result.toFixed(2));\n    setFromPrice(value);\n  };\n\n  const priceUSD = (1 * ratesRef.current['UAH']).toFixed(2);\n  const priceEUR = (1 * ratesRef.current['EUR'] * ratesRef.current['UAH']).toFixed(2);\n\n  const onChangeToPrice = value => {\n    const result = ratesRef.current[fromCurrency] / ratesRef.current[toCurrency] * value;\n    setFromPrice(result.toFixed(2));\n    setToPrice(value);\n  };\n\n  React.useEffect(() => {\n    onChangeFromPrice(fromPrice);\n  }, [fromCurrency]);\n  React.useEffect(() => {\n    onChangeToPrice(toPrice);\n  }, [toCurrency]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      priceUSD: priceUSD,\n      priceEUR: priceEUR\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Blocks, {\n      fromPrice: fromPrice,\n      fromCurrency: fromCurrency,\n      setFromCurrency: setFromCurrency,\n      onChangeFromPrice: onChangeFromPrice,\n      toPrice: toPrice,\n      toCurrency: toCurrency,\n      setToCurrency: setToCurrency,\n      onChangeToPrice: onChangeToPrice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"MJ8yRAT+iBvmFWFrdKTcXJiDs5s=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Header","Blocks","App","fromCurrency","setFromCurrency","useState","toCurrency","setToCurrency","fromPrice","setFromPrice","toPrice","setToPrice","useEffect","fetch","then","res","json","ratesRef","current","rates","onChangeToPrice","catch","err","console","warn","alert","useRef","onChangeFromPrice","value","price","result","toFixed","priceUSD","priceEUR"],"sources":["/Users/vitalijbovkun/Desktop/ReactProjects/react-convertor/src/App.js"],"sourcesContent":["import React from 'react';\nimport { Header } from './components/Header';\nimport { Blocks } from './components/Blocks';\nimport './index.scss';\n\nfunction App() {\n  const [fromCurrency, setFromCurrency] = React.useState('UAH')\n  const [toCurrency, setToCurrency] = React.useState('USD')\n  const [fromPrice, setFromPrice] = React.useState(0)\n  const [toPrice, setToPrice] = React.useState(0)\n\n  \n\n  React.useEffect(() => {\n    fetch('https://cdn.cur.su/api/latest.json')\n    .then((res)=> res.json())\n    .then((json) => {\n      ratesRef.current = json.rates\n      onChangeToPrice(0)\n    }) \n      .catch ((err) => {\n      console.warn(err);\n      alert('Не удалось получить информацию')\n    })\n  }, []);\n\n  \n  const ratesRef = React.useRef({})\n\n  const onChangeFromPrice = (value) => {\n    const price = value / ratesRef.current[fromCurrency]\n    const result = price * ratesRef.current[toCurrency]\n    setToPrice(result.toFixed(2))\n    setFromPrice(value)\n  }\n  \n  const priceUSD = (1 * ratesRef.current['UAH']).toFixed(2)\n  const priceEUR = ((1 * ratesRef.current['EUR']) * ratesRef.current['UAH']).toFixed(2)\n\n  const onChangeToPrice = (value) => {\n    const result = (ratesRef.current[fromCurrency] / ratesRef.current[toCurrency]) * value\n    setFromPrice(result.toFixed(2))\n    setToPrice(value)\n  }\n  React.useEffect(()=>{\n    onChangeFromPrice(fromPrice)\n  }, [fromCurrency]) \n  React.useEffect(()=>{\n    onChangeToPrice(toPrice)\n  }, [toCurrency]) \n  return (\n    <div className=\"App\">\n      <Header \n        priceUSD={priceUSD}\n        priceEUR={priceEUR}\n      />\n      <Blocks \n        fromPrice={fromPrice}\n        fromCurrency={fromCurrency}\n        setFromCurrency={setFromCurrency} \n        onChangeFromPrice={onChangeFromPrice}\n        toPrice={toPrice}\n        toCurrency={toCurrency}\n        setToCurrency={setToCurrency}\n        onChangeToPrice={onChangeToPrice}\n      />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}